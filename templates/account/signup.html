{% extends "base.html" %}
{% load i18n %}
{% load socialaccount %}
{% load static %}

{% block title %}{% trans "Create account" %}{% endblock %}

{% block content %}
<div class="auth-bg">
  <div class="auth-card">
    {# <img class="logo" src="{% static 'reservas/img/ihop-logo.svg' %}" alt="IHOP"> #}
    <h1 class="auth-title">{% trans "Create account" %}</h1>
    <p class="auth-sub">{% trans "Sign up to book faster." %}</p>

    {% if form.errors %}
      <div class="errors">
        <ul>
          {% for field, errs in form.errors.items %}
            {% for e in errs %}
              <li>{{ e }}</li>
            {% endfor %}
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post" action="{% url 'account_signup' %}">
      {% csrf_token %}
      <div class="form-grid">
        <div class="form-row">
          <label for="id_email">{% trans "Email" %}</label>
          {{ form.email }}
          {% if form.email.errors %}<div class="error-inline">{{ form.email.errors.0 }}</div>{% endif %}
        </div>

        {% if form.username %}
        <div class="form-row">
          <label for="id_username">{% trans "Username" %}</label>
          {{ form.username }}
          {% if form.username.errors %}<div class="error-inline">{{ form.username.errors.0 }}</div>{% endif %}
        </div>
        {% endif %}

        <div class="form-row">
          <label for="id_password1">{% trans "Password" %}</label>
          {{ form.password1 }}
          {% if form.password1.errors %}<div class="error-inline">{{ form.password1.errors.0 }}</div>{% endif %}
        </div>

        <div class="form-row">
          <label for="id_password2">{% trans "Confirm password" %}</label>
          {{ form.password2 }}
          {% if form.password2.errors %}<div class="error-inline">{{ form.password2.errors.0 }}</div>{% endif %}
        </div>
      </div>

      <button class="btn btn-success" type="submit">{% trans "Create account" %}</button>
    </form>

    <div class="divider">{% trans "or" %}</div>

    <form method="post" action="{% provider_login_url 'google' %}">
      {% csrf_token %}
      <button type="submit" class="btn-google">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="" width="18" height="18" aria-hidden="true">
        {% trans "Sign up with Google" %}
      </button>
    </form>

    <div class="meta">
      <span>{% trans "Already have an account?" %}</span>
      <a class="link" href="{% url 'account_login' %}">{% trans "Log in" %}</a>
    </div>
  </div>
</div>
{% endblock %}
